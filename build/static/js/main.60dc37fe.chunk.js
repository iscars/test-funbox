(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{31:function(e,t,n){e.exports=n(43)},36:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(27),o=n.n(r),s=(n(36),n(6)),i=n(7),l=n(10),d=n(8),u=n(11),p=n(5),m=n(28),h=n(12),v=n.n(h),f=n(14),b=n(13),g=n(21),E=[{id:"1",segment:"\u0421\u043a\u0430\u0437\u043e\u0447\u043d\u043e\u0435 \u0437\u0430\u043c\u043e\u0440\u0441\u043a\u043e\u0435 \u044f\u0441\u0442\u0432\u043e",title:"\u041d\u044f\u043c\u0443\u0448\u043a\u0430",description:"\u0441 \u0444\u0443\u0430-\u0433\u0440\u0430",specs:[[10,"\u043f\u043e\u0440\u0446\u0438\u0439"],[1,"\u043c\u044b\u0448\u044c \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a"]],weight:[.5,"\u043a\u0433"],notes:"\u041f\u0435\u0447\u0435\u043d\u044c \u0443\u0442\u043a\u0438 \u0440\u0430\u0437\u0432\u0430\u0440\u043d\u0430\u044f \u0441 \u0430\u0440\u0442\u0438\u0448\u043e\u043a\u0430\u043c\u0438.",availability:!0},{id:"2",segment:"\u0421\u043a\u0430\u0437\u043e\u0447\u043d\u043e\u0435 \u0437\u0430\u043c\u043e\u0440\u0441\u043a\u043e\u0435 \u044f\u0441\u0442\u0432\u043e",title:"\u041d\u044f\u043c\u0443\u0448\u043a\u0430",description:"\u0441 \u0440\u044b\u0431\u043e\u0439",specs:[[40,"\u043f\u043e\u0440\u0446\u0438\u0439"],[2,"\u043c\u044b\u0448\u0438 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a"]],weight:[2,"\u043a\u0433"],notes:"\u0413\u043e\u043b\u043e\u0432\u044b \u0449\u0443\u0447\u044c\u0438 \u0441 \u0447\u0435\u0441\u043d\u043e\u043a\u043e\u043c \u0434\u0430 \u0441\u0432\u0435\u0436\u0430\u0439\u0448\u0430\u044f \u0441\u0451\u043c\u0433\u0443\u0448\u043a\u0430.",availability:!0},{id:"3",segment:"\u0421\u043a\u0430\u0437\u043e\u0447\u043d\u043e\u0435 \u0437\u0430\u043c\u043e\u0440\u0441\u043a\u043e\u0435 \u044f\u0441\u0442\u0432\u043e",title:"\u041d\u044f\u043c\u0443\u0448\u043a\u0430",description:"\u0441 \u043a\u0443\u0440\u043e\u0439",specs:[[100,"\u043f\u043e\u0440\u0446\u0438\u0439"],[5,"\u043c\u044b\u0448\u0435\u0439 \u0432 \u043f\u043e\u0434\u0430\u0440\u043e\u043a"],"\u0437\u0430\u043a\u0430\u0437\u0447\u0438\u043a \u0434\u043e\u0432\u043e\u043b\u0435\u043d"],weight:[5,"\u043a\u0433"],notes:"\u0424\u0438\u043b\u0435 \u0438\u0437 \u0446\u044b\u043f\u043b\u044f\u0442 \u0441 \u0442\u0440\u044e\u0444\u0435\u043b\u044f\u043c\u0438 \u0432 \u0431\u0443\u043b\u044c\u043e\u043d\u0435.",availability:!1}];var _="".concat("goods","/FETCH_REQUEST"),y="".concat("goods","/FETCH_SUCCESS"),O="".concat("goods","/FETCH_ERROR"),j="".concat("goods","/SELECT_EVENT"),k=Object(b.c)({goods:new b.b([]),selected:new b.b([]),loading:!1,error:!1}),w=Object(b.c)({id:null,segment:null,title:null,description:null,specs:null,weight:null,notes:null,availability:null});var N=Object(g.a)(function(e){return e.goods},function(e){return e.goods}),C=Object(g.a)(N,function(e){return e.toJS()});var S=v.a.mark(function e(){var t;return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(f.b)(function(){return E});case 3:return t=e.sent,e.next=6,Object(f.c)({type:y,payload:t});case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),e.next=12,Object(f.c)({type:O,payload:e.t0});case 12:case"end":return e.stop()}},e,null,[[0,8]])});var x=v.a.mark(function e(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=f.a,e.next=3,Object(f.d)(_,S);case 3:return e.t1=e.sent,e.t2=[e.t1],e.next=7,(0,e.t0)(e.t2);case 7:case"end":return e.stop()}},e)}),H=Object(p.c)(Object(m.a)({},"goods",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new k,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case _:return e.set("loading",!0);case y:return e.set("loading",!1).set("goods",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.a;return new b.b(e).map(function(e){return new t(e)})}(a,w));case O:return console.error(a),e.set("loading",!1).set("error",!0);case j:return e.selected.contains(a.id)?e.update("selected",function(e){return e.remove(a.id)}):e.update("selected",function(e){return e.add(a.id)});default:return e}})),F=n(30),T=v.a.mark(q);function q(){return v.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(f.a)([x()]);case 2:case"end":return e.stop()}},T)}var G=Object(F.a)(),J=Object(p.a)(G),R=Object(p.e)(H,J);G.run(q);var L=R,U=n(19),A=n(24),B=n.n(A),D=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={checked:!1,checkedHover:!1},n.getSpecs=function(){return c.a.createElement("ul",{className:"offer__specs"},n.props.event.specs.map(n.getSpec))},n.getSpec=function(e,t){return c.a.createElement("li",{key:t},e.map?c.a.createElement(c.a.Fragment,null,1!==e[0]&&c.a.createElement("strong",null,e[0]," "),e[1]):e)},n.handleChange=function(){n.setState({checked:!n.state.checked}),n.state.checked&&n.setState({checkedHover:!1}),n.props.selectEvent(n.props.event.id)},n.setCheckedHover=function(){n.state.checked&&!n.state.checkedHover&&n.setState({checkedHover:!0})},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props.event;return c.a.createElement("div",{onMouseLeave:this.setCheckedHover,className:"card"},c.a.createElement("input",{type:"checkbox",disabled:!e.availability,checked:this.state.checked,onChange:this.handleChange,id:e.id,className:"card__input"}),c.a.createElement("label",{htmlFor:e.id,className:B()("card__label-content",!e.availability&&"disabled")},c.a.createElement("div",{className:"card__panel"},c.a.createElement("div",{className:"card__panel-inner"},c.a.createElement("div",{className:"card__panel-inner-corner"}))),c.a.createElement("div",{className:"card__body"},c.a.createElement("div",{className:"offer"},c.a.createElement("div",{className:"offer__body card__offer-body"},c.a.createElement("div",{className:B()("offer__segment",this.state.checkedHover&&"card__checked-not-hover")},e.segment),this.state.checkedHover&&c.a.createElement("div",{className:"offer__tip card__checked-hover"},"\u041a\u043e\u0442\u044d \u043d\u0435 \u043e\u0434\u043e\u0431\u0440\u044f\u0435\u0442?"),c.a.createElement("div",{className:"offer__name"},e.title),c.a.createElement("div",{className:"offer__description"},e.description),this.getSpecs()),c.a.createElement("div",{className:"offer__quantity card__quantity"},c.a.createElement("span",{className:"offer__quantity-lg"},e.weight[0]),c.a.createElement("span",{className:"offer__quantity-sm"},e.weight[1]))))),c.a.createElement("div",{className:"card__notes"},e.availability?this.state.checked?c.a.createElement("span",null,e.notes):c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,"\u0427\u0435\u0433\u043e \u0441\u0438\u0434\u0438\u0448\u044c? \u041f\u043e\u0440\u0430\u0434\u0443\u0439 \u043a\u043e\u0442\u044d, "),c.a.createElement("label",{htmlFor:e.id,className:"card__label-notes"},"\u043a\u0443\u043f\u0438.")):c.a.createElement("span",{className:"text-attention"},"\u041f\u0435\u0447\u0430\u043b\u044c\u043a\u0430, ",e.description," \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0441\u044f")))}}]),t}(a.Component),M=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(l.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).getGoods=function(e){return e.map(function(e){return c.a.createElement("li",{key:e.id,className:"grid__item"},c.a.createElement(D,{event:e,selectEvent:n.selectEvent}))})},n.selectEvent=function(e){n.props.selectEvent(e)},n}return Object(u.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchGoods()}},{key:"componentDidUpdate",value:function(){console.log(this.props.selected.toJS())}},{key:"render",value:function(){if(this.props.loading)return c.a.createElement("div",null,"Loading goods list...");if(this.props.error)return c.a.createElement("div",null,"Failed to load data");var e=this.getGoods(this.props.goods);return c.a.createElement("ul",{className:"grid"},e)}}]),t}(a.Component),W=Object(U.b)(function(e){return{goods:C(e),loading:e.goods.loading,error:e.goods.error,selected:e.goods.selected}},{fetchGoods:function(){return{type:_}},selectEvent:function(e){return{type:j,payload:{id:e}}}})(M),I=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement("main",{className:"container"},c.a.createElement("div",{className:"title"},"\u0422\u044b \u0441\u0435\u0433\u043e\u0434\u043d\u044f \u043f\u043e\u043a\u043e\u0440\u043c\u0438\u043b \u043a\u043e\u0442\u0430?"),c.a.createElement(W,null))}}]),t}(a.Component),Q=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return c.a.createElement(U.a,{store:L},c.a.createElement(I,null))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.60dc37fe.chunk.js.map